<%- include('../../partials/header', { title: title, busca: busca, usuario: usuario }) %>

<main class="container my-5">
  <h1 class="mb-4"><%= title %></h1>

  <% if (error) { %>
    <div class="alert alert-danger"><%= error %></div>
  <% } %>

  <form
    action="/user/dashboard/producer/create-event"
    method="POST"
    enctype="multipart/form-data"
    class="row g-3"
  >
    <!-- Tipo de Evento -->
    <div class="col-md-4">
      <label for="tipo" class="form-label">Tipo de Evento</label>
      <select id="tipo" name="tipo" class="form-select" required>
        <option value="presencial">Presencial</option>
        <option value="online">Online</option>
      </select>
    </div>

    <!-- Categoria -->
    <div class="col-md-4">
      <label for="categoria_id" class="form-label">Categoria</label>
      <select id="categoria_id" name="categoria_id" class="form-select" required>
        <option value="">Selecione uma categoria</option>
        <% categories.forEach(cat => { %>
          <option value="<%= cat.id %>"><%= cat.nome %></option>
        <% }) %>
      </select>
    </div>

    <!-- Título -->
    <div class="col-md-4">
      <label for="titulo" class="form-label">Título</label>
      <input type="text" id="titulo" name="titulo" class="form-control" required>
    </div>

    <!-- Descrição -->
    <div class="col-12">
      <label for="descricao" class="form-label">Descrição</label>
      <textarea id="descricao" name="descricao" rows="4" class="form-control" required></textarea>
    </div>

    <!-- Imagem -->
    <div class="col-md-6">
      <label for="imagem" class="form-label">Imagem</label>
      <input type="file" id="imagem" name="imagem" class="form-control" accept="image/*" required>
    </div>

    <!-- Local -->
    <div class="col-md-6">
      <label for="local" class="form-label">Local (se presencial)</label>
      <input type="text" id="local" name="local" class="form-control">
    </div>

    <!-- Data e Hora -->
    <div class="col-md-6">
      <label for="dataHora" class="form-label">Data e Hora</label>
      <input type="datetime-local" id="dataHora" name="dataHora" class="form-control" required>
    </div>

    <!-- Idade -->
    <div class="col-md-6">
      <label class="form-label">Restrição de Idade</label>
      <div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="idade" id="idadeLivre" value="livre" checked>
          <label class="form-check-label" for="idadeLivre">Livre</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="idade" id="idade18" value="18">
          <label class="form-check-label" for="idade18">+18</label>
        </div>
      </div>
    </div>

    <h5 class="mt-4">Tipo de Ingresso</h5>
    <div class="row g-3">
      <div class="col-md-4">
        <label for="ingressoNome" class="form-label">Nome</label>
        <input type="text" id="ingressoNome" name="ingressoNome" class="form-control" placeholder="Ex: Pista" required>
      </div>
      <div class="col-md-4">
        <label for="ingressoPreco" class="form-label">Preço (R$)</label>
        <input type="number" step="0.01" id="ingressoPreco" name="ingressoPreco" class="form-control" required>
      </div>
      <div class="col-md-4">
        <label for="ingressoQtd" class="form-label">Quantidade</label>
        <input type="number" id="ingressoQtd" name="ingressoQtd" class="form-control" required>
      </div>
    </div>

    <div class="col-12">
      <button type="submit" class="btn btn-primary mt-3">Finalizar Criação</button>
    </div>
  </form>
</main>

<%- include('../../partials/footer') %>
